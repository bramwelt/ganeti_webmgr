{% load i18n %}
<link rel="stylesheet" href="{{SITE_ROOT}}/novnc/plain.css" title="plain">
<style>
    #actions {margin-bottom:30px;}
</style>
<script type="text/javascript" src="{{ SITE_ROOT }}/gateone/gateone.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        $.ajax({
            "async": false,
            "url": "{% url instance-ssh-proxy cluster_slug instance.hostname %}",
            "type": "POST",
            "data": {},
            "dataType": "json",
            "success": function(data) {
                /* data is a list of host, port, password */
                GateOne.init({"url": data[0]});
            },
        });
    });
</script>

<ul id="actions" class="horizontal">
    <li><a id="encrypt" href="#" title="encrypt" class="button encrypt">{% trans "Encrypt" %}</a></li>
    <li><a id="connect" href="#" title="connect to"class="button connect">{% trans "Connect" %}</a></li>
    {% ifequal instance.info.status "running" %}
    <li><a class="button shutdown power" title="shut down" href="{% url instance-shutdown cluster_slug instance.hostname %}">{% trans "Shutdown" %}</a></li>
    <li><a class="button reboot power" title="reboot" href="{% url instance-reboot cluster_slug instance.hostname %}">{% trans "Reboot" %}</a></li>
    {% else %}
    <li><a class="button startup power" href="{% url instance-startup cluster_slug instance.hostname %}">{% trans "Start" %}</a></li>
    {% endifequal %}
    <li><a id="ctrlaltdelete" href="#" class="button reboot disabled power" title="Send Ctrl-Alt-Delete">Ctrl-Alt-Delete</a></li>
    {% if not popout %}
    <li><a id="popout" href="#" class="button popout" title="popout vnc window"></a></li>
    {% endif %}
</ul>

<input type="checkbox" id="encrypt_check" />

<div id="gateone"></div>
